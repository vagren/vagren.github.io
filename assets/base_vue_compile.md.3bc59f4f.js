import{_ as a,c as p,o as e,d as s,a as n,b as t}from"./app.79b189f8.js";const v='{"title":"\u6A21\u7248\u7F16\u8BD1","description":"","frontmatter":{},"headers":[{"level":3,"title":"\u6A21\u7248\u7F16\u8BD1\u539F\u7406","slug":"\u6A21\u7248\u7F16\u8BD1\u539F\u7406"},{"level":3,"title":"\u89E3\u6790\u5668","slug":"\u89E3\u6790\u5668"},{"level":3,"title":"\u4F18\u5316\u5668","slug":"\u4F18\u5316\u5668"},{"level":3,"title":"\u751F\u6210\u5668","slug":"\u751F\u6210\u5668"}],"relativePath":"base/vue/compile 2.md","lastUpdated":1632670640110}',o={},l=s(`<h1 id="\u6A21\u7248\u7F16\u8BD1" tabindex="-1">\u6A21\u7248\u7F16\u8BD1 <a class="header-anchor" href="#\u6A21\u7248\u7F16\u8BD1" aria-hidden="true">#</a></h1><p>\u4E3B\u8981\u76EE\u7684\u662F\u5C06\u6A21\u7248(template)\u8F6C\u6362\u4E3A\u6E32\u67D3\u51FD\u6570\uFF08render\uFF09.</p><ul><li>\u6A21\u7248<div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li>\u6E32\u67D3\u51FD\u6570<div class="language-js line-numbers-mode"><pre><code><span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>  <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&#39;h1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">on</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">click</span><span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>handler <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&#39;title&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&#39;p&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;content&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul><p>@vue/cli \u9ED8\u8BA4\u4F7F\u7528vue\u8FD0\u884C\u65F6\u7248\u672C\uFF0C\u4E0D\u5305\u542B\u7F16\u8BD1\u5668\u3002Webpack \u5728\u6784\u5EFA\u8FC7\u7A0B\u4E2D\u5C06<code>.vue</code>\u6587\u4EF6\u8F6C\u6362\u6210render\u51FD\u6570.</p><p>\u76F8\u5173\u6587\u4EF6</p><ul><li><code>entry-runtime-with-compiler.js</code></li><li><code>instance/render.js</code><ul><li>_c = createElement()</li></ul></li><li><code>instance/render-helpers/index.js</code><ul><li>_m = renderStatic</li><li>_v = render</li><li>_s = toString</li></ul></li></ul><p>\u76F8\u5173\u51FD\u6570\u5217\u8868</p>`,7),c=n("ul",null,[n("li",{"render,":"",staticRenderFns:""},"entry-runtime-with-compiler.js/compileToFunctions(template, {}, this):"),n("li",{"compile,":"",compileToFunctions:""},"createCompiler(baseOptions):"),n("li",null,[t("createCompilerCreator(function baseCompile() {}): "),n("ul",null,[n("li",null,"createCompiler()")])])],-1),i=s(`<div class="language-js line-numbers-mode"><pre><code><span class="token comment">// entry-runtime-with-compiler.js</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> render<span class="token punctuation">,</span> staticRenderFns <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">compileToFunctions</span><span class="token punctuation">(</span>template<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">outputSourceRange</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
    shouldDecodeNewlines<span class="token punctuation">,</span>
    shouldDecodeNewlinesForHref<span class="token punctuation">,</span>
    <span class="token literal-property property">delimiters</span><span class="token operator">:</span> options<span class="token punctuation">.</span>delimiters<span class="token punctuation">,</span>
    <span class="token literal-property property">comments</span><span class="token operator">:</span> options<span class="token punctuation">.</span>comments
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
options<span class="token punctuation">.</span>render <span class="token operator">=</span> render
options<span class="token punctuation">.</span>staticRenderFns <span class="token operator">=</span> staticRenderFns

<span class="token comment">// vue-2.6.14/src/platforms/web/compiler/index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> baseOptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./options&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createCompiler <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;compiler/index&#39;</span>
<span class="token comment">// baseOptions: web \u5E73\u53F0\u76F8\u5173\u7684\u9009\u9879</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> compile<span class="token punctuation">,</span> compileToFunctions <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">createCompiler</span><span class="token punctuation">(</span>baseOptions<span class="token punctuation">)</span>

<span class="token comment">// vue-2.6.14/src/compiler/index.js</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="\u6A21\u7248\u7F16\u8BD1\u539F\u7406" tabindex="-1">\u6A21\u7248\u7F16\u8BD1\u539F\u7406 <a class="header-anchor" href="#\u6A21\u7248\u7F16\u8BD1\u539F\u7406" aria-hidden="true">#</a></h3><p>\u5C06\u6A21\u7248\u89E3\u6790\u6210AST\uFF0C\u7136\u540E\u904D\u5386AST\u6807\u8BB0\u9759\u6001\u8282\u70B9\uFF0C\u6700\u540E\u4F7F\u7528AST\u751F\u6210\u4EE3\u7801\u5B57\u7B26\u4E32\u3002</p><ul><li>\u89E3\u6790\u5668\uFF1A\u5C06\u6A21\u7248\u89E3\u6790\u6210AST\u3002</li><li>\u4F18\u5316\u5668\uFF1A\u904D\u5386AST\uFF0C\u68C0\u6D4B\u51FA\u6240\u6709\u9759\u6001\u8282\u70B9\uFF0C\u5E76\u6807\u8BB0\u3002</li><li>\u4EE3\u7801\u751F\u6210\u5668\uFF1A\u5C06AST\u8F6C\u6362\u6210\u6E32\u67D3\u51FD\u6570\u4E2D\u7684\u4EE3\u7801\u5B57\u7B26\u4E32\u3002</li></ul><h3 id="\u89E3\u6790\u5668" tabindex="-1">\u89E3\u6790\u5668 <a class="header-anchor" href="#\u89E3\u6790\u5668" aria-hidden="true">#</a></h3><h3 id="\u4F18\u5316\u5668" tabindex="-1">\u4F18\u5316\u5668 <a class="header-anchor" href="#\u4F18\u5316\u5668" aria-hidden="true">#</a></h3><h3 id="\u751F\u6210\u5668" tabindex="-1">\u751F\u6210\u5668 <a class="header-anchor" href="#\u751F\u6210\u5668" aria-hidden="true">#</a></h3><p>tool: Vue Template Explorer</p><ul><li><code>template-explorer.vuejs.org</code></li><li><code>vue-next-template-explorer.netlify.app</code></li></ul>`,9),r=[l,c,i];function u(k,d,m,b,h,_){return e(),p("div",null,r)}var f=a(o,[["render",u]]);export{v as __pageData,f as default};
